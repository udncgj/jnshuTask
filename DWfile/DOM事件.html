<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>

<body>
    <div id="box">
        <input type="button" value="按钮" id="btn" onclick="showmes()" />
        <input type="button" value="按钮2" id="btn2" /><!--推荐用法，方便修改-->
        <input type="button" value="按钮3" id="btn3" />
        <a href="定位测试.html" id="go" />跳转</a>
    </div>
    <script>
        function showmes(event){
		    alert(event.target.nodeName);
			//type事件类型，(dom)target事件目标，(IE)srcElement
			/*event=event || window.event;//ie8以前需要window.event
			  var ele=event.target ||event.srcElement;
			  alert(ele);
			*/
			//event.stopPropagation();
			//(dom)阻止事件冒泡，使用后，不再执行上一级事件
			//(ie)cancelBubble为属性，非方法,true为阻止,false为允许
		}
		function showbox(){
		    alert("这是放按钮的盒子");
		}
		function stopgoto(event){
		    event.stopPropagation();
			event.preventDefault();
			//(dom)阻止事件的默认行为，例如a标签的href链接
			//(ie)returnValue为属性，非方法,true为阻止,false为允许
		}
		var btn2=document.getElementById("btn2");
		var btn3=document.getElementById("btn3");
		var box=document.getElementById("box");
		var goto=document.getElementById("go");
		//document.getElementById("btn2").onclick=function(){
		btn2.onclick=function(){
			alert("right");
		}
		//btn2.onclick=null;//删除onclick属性
		
		//DOM2级事件,IE无效
		/*btn3.addEventListener("click",showmes,false);//事件不加on
		btn3.addEventListener("click",function(){alert(this.value)},false);
		//btn3.removeEventListener("click",showmes,false);
		//IE的DOM2级事件方式（疑似）
		//btn3.attachEvent("onclick",showmes);
		//btn3.detachEvent("onclick",showmes);*/
		
		//跨浏览器事件处理程序
		var eventUtil={
			addHandler:function(element,type,handler){
				if(element.addEventListener){
					element.addEventListener(type,handler,false);
				}else if(element.attachEvent){
					element.attachEvent("on"+type,handler);
				}else{
					element["on"+type]=handler;
					//element.onclick===element["onclick"]
				}
			},//注意，需要逗号间隔
			removeHandler:function(element,type,handler){
				if(element.removeEventListener){
					element.removeEventListener(type,handler,false);
				}else if(element.detachEvent){
					element.detachEvent("on"+type,handler);
				}else{
					element["on"+type]=null;
				}
			}
		}
		eventUtil.addHandler(btn3,"click",showmes);
		eventUtil.addHandler(box,"click",showbox);
		eventUtil.addHandler(goto,"click",stopgoto);
		//eventUtil.removeHandler(btn3,"click",showmes);
    </script>
</body>
</html>